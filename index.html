<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
	<link rel='stylesheet' href='https://ik.imagekit.io/Sczr/Source%20Han%20Sans%20&%20Saira%20Hybrid-Regular%20(1)/result.css?updatedAt=1733583831964' />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>「塔弦」空间站</title>
    <style>
        body {
            font-family: 'Source Han Sans & Saira Hybrid';
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        h1 { color: #2d3436; }
        h2 { color: #6c5ce7; border-left: 5px solid #a8a4e6; padding-left: 10px; }
        code { background-color: #ffeaa7; padding: 2px 5px; border-radius: 3px; }
        img { max-width: 100%; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .note { background-color: #fff3b0; padding: 15px; border-radius: 8px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>🎵 随机歌词抽取</h1>
    <div id="lyrics">加载中，请稍候...</div>
    <button id="refresh-btn">换一句歌词</button>

    <script>
        // GitHub仓库信息
        const owner = "Sczr0"; // 仓库所有者
        const repo = "ylyrics"; // 仓库名称
        const path = ""; // 歌词文件路径（根目录为空）

        // 获取歌词文件的函数
        async function fetchRandomLyric() {
            try {
                // 1. 获取仓库文件列表
                const filesResponse = await fetch(
                    `https://api.github.com/repos/${owner}/${repo}/contents/${path}`
                );
                const files = await filesResponse.json();

                // 2. 过滤出.txt文件
                const txtFiles = files.filter(file => file.name.endsWith('.txt'));

                if (txtFiles.length === 0) {
                    throw new Error("没有找到歌词文件！");
                }

                // 3. 随机选择一个文件
                const randomFile = txtFiles[Math.floor(Math.random() * txtFiles.length)];
                const fileResponse = await fetch(randomFile.download_url);
                const fileContent = await fileResponse.text();

                // 4. 随机抽取一行歌词
                const lines = fileContent.split('\n').filter(line => line.trim() !== "");
                if (lines.length === 0) {
                    throw new Error("文件内容为空！");
                }
                const randomLine = lines[Math.floor(Math.random() * lines.length)];

                // 5. 显示歌词
                document.getElementById("lyrics").innerText = randomLine;
            } catch (error) {
                console.error("出错啦：", error);
                document.getElementById("lyrics").innerText = "加载失败，请稍后再试～";
            }
        }

        // 页面加载时获取歌词
        window.onload = fetchRandomLyric;

        // 点击按钮刷新歌词
        document.getElementById("refresh-btn").addEventListener("click", fetchRandomLyric);
    </script>
    <h1>🎮 欢迎来到「塔弦」空间站</h1>
    <p>主人QQ：<code>1932161680</code> | <a href="output.html" target="_blank">📊 Phigros FC AP率全铺面统计</a></p>

    <section>
        <h2>🌈 Phi插件设置</h2>
        <p>指令头是<code>咕</code>，不需要@</p>
        
        <h3>🎯 使用示例</h3>
        <pre><code>/咕 bind qrcode
/咕 pgr
/phihelp（这个可以不写！）</code></pre>

        <div class="note">
            <p>📌 小贴士：<br>
            • 更多隐藏技巧请看 <a href="https://kdocs.cn/l/catqcMM9UR5Y" target="_blank">《Phi-plugin使用指南》</a><br>
            • 教学视频 👉 <a href="https://www.bilibili.com/video/BV1wE421A7KE" target="_blank">💻 PPT教程</a></p>
        </div>
    </section>

    <section>
        <h2>🎉 扩展功能</h2>
        
        <h3>🎵 抽歌词</h3>
        <p>给机器人发送
		「抽歌词」，会触发歌词掉落<br>
        📚 歌词库地址：<a href="https://github.com/Sczr0/bingolyrics" target="_blank">bingolyrics</a></p>

        <h3>🔮 塔罗占卜</h3>
        <p>发送<code>塔罗牌</code>三个字，抽取塔罗牌</p>

        <h3>🎧 音乐点播</h3>
        <p>使用<code>#点歌 歌曲名</code>从网易云搜索，更多功能请发送<code>#小飞帮助</code></p>

        <h3>🎭 喜报/悲报生成器</h3>
        <p>用<code>喜报</code>或<code>悲报</code>开头发送内容，自动生成图片</p>
    </section>
</body>
</html>