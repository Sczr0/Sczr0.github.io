<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
	<link rel='stylesheet' href='https://ik.imagekit.io/Sczr/Source%20Han%20Sans%20&%20Saira%20Hybrid-Regular%20(1)/result.css?updatedAt=1733583831964' />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã€Œå¡”å¼¦ã€ç©ºé—´ç«™</title>
    <style>
        body {
            font-family: 'Source Han Sans & Saira Hybrid';
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        #lyrics {
            margin-top: 20px;
            padding: 15px;
            background-color: #fff3b0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        #refresh-btn {
            margin-top: 10px;
            padding: 10px 20px;
            background-color: #6c5ce7;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        #refresh-btn:hover {
            background-color: #5a4fcf;
        }
        h1 { color: #2d3436; margin-bottom: 25px; }
        h2 { color: #6c5ce7; border-left: 5px solid #a8a4e6; padding-left: 10px; margin-top: 30px; margin-bottom: 15px; }
        code { background-color: #ffeaa7; padding: 2px 5px; border-radius: 3px; }
        img { max-width: 100%; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .note { background-color: #fff3b0; padding: 15px; border-radius: 8px; margin: 15px 0; }
        section { margin-bottom: 20px; }
    </style>
</head>
<body>

    <h1>ğŸ® æ¬¢è¿æ¥åˆ°ã€Œå¡”å¼¦ã€ç©ºé—´ç«™</h1>
    <p>ä¸»äººQQï¼š<code>1932161680</code> | <a href="output.html" target="_blank">ğŸ“Š Phigros FC APç‡å…¨é“ºé¢ç»Ÿè®¡</a> | <a href="aw0000.html" target="_blank">ğŸ“ˆ è°±é¢å®šæ•°æ‹ŸåˆæŠ¥å‘Š</a></p>

    <section>
        <h2>ğŸŒˆ Phiæ’ä»¶è®¾ç½®</h2>
        <p>æŒ‡ä»¤å¤´æ˜¯<code>å’•</code>ï¼Œä¸éœ€è¦@</p>
        
        <h3>ğŸ¯ ä½¿ç”¨ç¤ºä¾‹</h3>
        <pre><code>/å’• bind qrcode
/å’• pgr
/phihelpï¼ˆè¿™ä¸ªå¯ä»¥ä¸å†™ï¼ï¼‰</code></pre>

        <div class="note">
            <p>ğŸ“Œ å°è´´å£«ï¼š<br>
            â€¢ æ›´å¤šè¯¦æƒ…è¯·çœ‹ <a href="https://kdocs.cn/l/catqcMM9UR5Y" target="_blank">ã€ŠPhi-pluginä½¿ç”¨æŒ‡å—ã€‹</a><br>
            â€¢ æ•™å­¦è§†é¢‘ ğŸ‘‰ <a href="https://www.bilibili.com/video/BV1wE421A7KE" target="_blank">ğŸ’» PPTæ•™ç¨‹</a></p>
        </div>
    </section>

    <section>
        <h2>ğŸ‰ æ‰©å±•åŠŸèƒ½</h2>
        
        <h3>ğŸµ æŠ½æ­Œè¯</h3>
        <p>ç»™æœºå™¨äººå‘é€ã€ŒæŠ½æ­Œè¯ã€ï¼Œä¼šè§¦å‘æ­Œè¯æ‰è½ï¼ˆæš‚ä¸å¯ç”¨æ 2025.2.22ï¼‰<br>
        ğŸ“š æ­Œè¯åº“åœ°å€ï¼š<a href="https://github.com/Sczr0/bingolyrics" target="_blank">bingolyrics</a></p>

        <h3>ğŸ”® å¡”ç½—å åœ</h3>
        <p>å‘é€<code>å¡”ç½—ç‰Œ</code>ä¸‰ä¸ªå­—ï¼ŒæŠ½å–å¡”ç½—ç‰Œ</p>

        <h3>ğŸ­ å–œæŠ¥/æ‚²æŠ¥ç”Ÿæˆå™¨</h3>
        <p>ç”¨<code>å–œæŠ¥</code>æˆ–<code>æ‚²æŠ¥</code>å¼€å¤´å‘é€å†…å®¹ï¼Œè‡ªåŠ¨ç”Ÿæˆå›¾ç‰‡</p>
    </section>

   <section>
    <h2>âœ… ç™½åå•ç¾¤ç»„</h2>
    <div class="note">
        <p>ç”³è¯·é€šè¿‡çš„ç™½åå•ç¾¤ç»„å¦‚ä¸‹ï¼ˆ2025.2.22ï¼‰ï¼š</p>
        <ul style="margin: 10px 0; padding-left: 20px;">
            <li>58*****07</li>
            <li>61*****57</li>
            <li>101*****58</li>
	    <li>811****78</li>
	    <li>72*****85</li>
        </ul>
        <p style="margin-top: 8px; color: #4a5568;">ç™½åå•ç¾¤å°†ä¸ä¼šè¢«å¡”å¼¦çš„è‡ªåŠ¨æ¸…ç¾¤æœºåˆ¶å½±å“ã€‚\nä¸ºé˜²æ­¢éªšæ‰°ï¼Œå¯¹åº”çš„ç¾¤èŠå·å·²ç»å±è”½</p>
    </div>
   </section>

    <div id="lyrics">åŠ è½½ä¸­ï¼Œè¯·ç¨å€™...</div>
    <button id="refresh-btn">æ¢ä¸€å¥æ­Œè¯</button>

    <script>
        // GitHubä»“åº“é…ç½®
        const config = {
  proxyBase: "https://ctower.xtower.site", // è‡ªå®šä¹‰ä»£ç†åŸŸå
  repoInfo: {
    owner: "Sczr0",
    repo: "yllyrics",
    branch: "main"
  }
}

// è·å–æ–‡ä»¶åˆ—è¡¨ï¼ˆå¸¦ç¼“å­˜ï¼‰
async function getLyricFiles() {
  const CACHE_KEY = 'lyric_files_cache';
  const CACHE_TTL = 3600 * 1000; // 1å°æ—¶

  // å°è¯•ä»ç¼“å­˜è¯»å–
  const cached = localStorage.getItem(CACHE_KEY);
  if (cached) {
    const { timestamp, data } = JSON.parse(cached);
    if (Date.now() - timestamp < CACHE_TTL) {
      return data;
    }
  }

  // ç¼“å­˜å¤±æ•ˆï¼Œé‡æ–°è¯·æ±‚
  try {
    const response = await fetch(`${config.proxyBase}/contents/`);
    const files = await response.json();
    
    // è¿‡æ»¤å¹¶å­˜å‚¨åˆ°ç¼“å­˜
    const validFiles = files.filter(file => 
      file.type === "file" && file.name.endsWith('.txt')
    ).map(file => file.path);

    localStorage.setItem(CACHE_KEY, JSON.stringify({
      timestamp: Date.now(),
      data: validFiles
    }));

    return validFiles;
  } catch (error) {
    console.error("è·å–æ–‡ä»¶åˆ—è¡¨å¤±è´¥ï¼š", error);
    return [];
  }
}

// å®Œæ•´ç‰ˆéšæœºæ­Œè¯è·å–
async function fetchRandomLyric() {
  try {
    showLoading();

    const lyricFiles = await getLyricFiles();
    if (lyricFiles.length === 0) {
      throw new Error("æ²¡æœ‰æ‰¾åˆ°æ­Œè¯æ–‡ä»¶");
    }

    const randomIndex = Math.floor(Math.random() * lyricFiles.length);
    const selectedFile = lyricFiles[randomIndex];

    const fileResponse = await fetch(`${config.proxyBase}/file/${selectedFile}`);
    if (!fileResponse.ok) {
      throw new Error(`æ–‡ä»¶è·å–å¤±è´¥: ${fileResponse.status}`);
    }
    const fileContent = await fileResponse.text();

    const lines = fileContent
      .split('\n')
      .filter(line => line.trim().length > 0);

    if (lines.length === 0) {
      throw new Error("ç©ºæ­Œè¯æ–‡ä»¶");
    }

    const randomLine = lines[Math.floor(Math.random() * lines.length)];
    
    // æ–°çš„æ˜¾ç¤ºæ–¹å¼
    document.getElementById("lyrics").innerHTML = `
      ${randomLine}
      <div style="margin-top: 10px; font-size: 0.8em; color: #666;">
        æ¥æºï¼š${selectedFile.split('/').pop()}
      </div>
    `;

  } catch (error) {
    console.error("æ­Œè¯åŠ è½½å¤±è´¥ï¼š", error);
    document.getElementById("lyrics").innerText = "ğŸµ æ­Œè¯åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°è¯•è¯•ï½";
  } finally {
    hideLoading();
  }
}

function showLyric(text, filename) {
  document.getElementById("lyrics").innerHTML = `
    <div class="lyric-container">
      <div class="lyric-content">${text}</div>
      <div class="lyric-source">æºè‡ªï¼š${filename.split('/').pop()}</div>
    </div>
  `;
}

// è¾…åŠ©å‡½æ•°
function showLoading() {
  document.getElementById("lyrics").innerHTML = `
    <div class="loader"></div>
    <p style="text-align: center;">Towering...</p>
  `;
}

function hideLoading() {
  // å¯æ·»åŠ åŠ è½½å®ŒæˆåŠ¨ç”»
}

function showError(msg) {
  document.getElementById("lyrics").innerHTML = `
    <div class="error-box">
      <i class="fas fa-exclamation-triangle"></i>
      ${msg}
    </div>
  `;
}

// åˆå§‹åŒ–
window.addEventListener('load', () => {
  fetchRandomLyric();
  document.getElementById("refresh-btn").addEventListener('click', () => {
    fetchRandomLyric();
  });
});
    </script>
</body>
</html>